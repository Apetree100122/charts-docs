<%
=begin
apps: etcd
platforms: kubernetes
id: enable_metrics
title: Enable metrics
category: administration
weight: 20
highlight: 20
=end %>

The chart optionally exposes metrics for [Prometheus](https://prometheus.io/). The metrics are exposed at port 2379 and the */metrics* endpoint of every etcd container.

Metrics can be scraped from within the cluster using something similar to the example [Prometheus scrape configuration](https://github.com/prometheus/prometheus/blob/master/documentation/examples/prometheus-kubernetes.yml). The required annotations for the metrics endpoints to be discovered are automatically added by the chart.

To expose the metrics, deploy the chart with this option:

~~~
metrics.enabled: true
~~~

If the Prometheus Operator is installed in the cluster, the option below can also be set to create a PodMonitor entry:

~~~
metrics.podMonitor.enabled: true
~~~
