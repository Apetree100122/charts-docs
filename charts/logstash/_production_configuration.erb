<%
=begin
apps: logstash
platforms: kubernetes
id: production_configuration
title: Production configuration
category: configuration
weight: 20
highlight: 20
=end %>

This chart includes a *values-production.yaml* file where you can find some parameters oriented to production configuration in comparison to the regular *values.yaml*. You can use this file instead of the default one.

* Increase the number of Logstash replicas:

    - replicaCount: 1
    + replicaCount: 3

* Enable Prometheus metrics:

    - metrics.enabled: false
    + metrics.enabled: true

### Use custom configuration

By default, this Helm chart provides a very basic configuration for Logstash, which listen HTTP requests on port 8080 and writes them to stdout.

You can achieve any Logstash configuration by providing your custom configuration files. To do so, this Helm chart supports to customize every configuration file.

Add your custom configuration files to *files/conf* in your working directory. These files will be mounted as a configMap to the containers and they will be used for configuring Logstash.

Alternatively, you can specify the Logstash configuration using the logstash.input, logstash.filter, and logstash.output parameters. Each of them, allows you to specify the Input Plugins, Filter Plugins, and Output Plugins configuration, respectively.

In addition to these options, you can also set an external ConfigMap with all the configuration files. This is done by setting the logstash.existingConfiguration parameter. Note that this will override the two previous options.
