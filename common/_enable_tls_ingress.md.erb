<%
=begin
apps: aspnet-core, consul, discourse, dokuwiki, drupal, ghost, jasperreports, jenkins, joomla, jupyterhub, keycloak, kong, kubeapps, logstash, magento, mediawiki, minio, moodle, nats, nginx, odoo, opencart, orangehrm, osclass, owncloud, phabricator, phpbb, phpmyadmin, prestashop, rabbitmq, redmine, solr, spark, suitecrm, spring-cloud-dataflow, testlink, thanos, tomcat, wildfly, wordpress
platforms: kubernetes
id: enable_tls
title: Enable TLS termination at Ingress
category: administration
weight: 50
highlight: 50
=end %>

This chart facilitates the creation of TLS secrets for use with the ingress controller, however, this is not required. There are several common use cases:

- Generate certificate secrets based on chart parameters.
- Enable externally generated certificates.
- Manage application certificates via an external service (like [cert-manager](https://github.com/jetstack/cert-manager/).
<% if %w(jenkins kubeapps rabbitmq).include? current.app %>
- Create self-signed certificates within the chart.
<% end %>

In the first two cases, a certificate and a key are needed. We would expect them to look like this:

- Certificate files:

    > NOTE: There may be more than one certificate if there is a certificate chain.

    ```console
    -----BEGIN CERTIFICATE-----
    MIID6TCCAtGgAwIBAgIJAIaCwivkeB5EMA0GCSqGSIb3DQEBCwUAMFYxCzAJBgNV
    ...
    jScrvkiBO65F46KioCL9h5tDvomdU1aqpI/CBzhvZn1c0ZTf87tGQR8NK7v7
    -----END CERTIFICATE-----
    ```

- Certificate keys:

    ```console
    -----BEGIN RSA PRIVATE KEY-----
    MIIEogIBAAKCAQEAvLYcyu8f3skuRyUgeeNpeDvYBCDcgq+LsWap6zbX5f8oLqp4
    ...
    wrj2wDbCDCFmfqnSJ+dKI3vFLlEz44sAV8jX/kd4Y6ZTQhlLbYc=
    -----END RSA PRIVATE KEY-----
    ```

- If you are going to use Helm to manage the certificates based on the chart parameters, copy these values into the `certificate` and `key` values for a given `ingress.secrets` entry.
- In case you are going to manage TLS secrets externally, know that you must use a TLS secret with name *INGRESS_HOSTNAME-tls* (where *INGRESS_HOSTNAME* is a placeholder to be replaced with the hostname you set using the `ingress.hostname` parameter).
- If your cluster has a [cert-manager](https://github.com/jetstack/cert-manager) add-on to automate the management and issuance of TLS certificates, set `ingress.certManager` boolean to true to enable the corresponding annotations for cert-manager.
<% if %w(jenkins kubeapps rabbitmq).include? current.app %>
- To use self-signed certificates created by Helm, set both `ingress.tls` and `ingress.selfSigned` to `true`.
<% end %>
