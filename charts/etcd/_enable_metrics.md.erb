<%
=begin
apps: etcd
platforms: kubernetes
id: enable_metrics
title: Enable metrics
category: administration
weight: 20
highlight: 20
=end %>

The chart optionally exposes metrics for [Prometheus](https://prometheus.io/). The metrics are exposed at port 2379 and the */metrics* endpoint of every etcd container.

Metrics can be scraped from within the cluster using something similar to the example [Prometheus scrape configuration](https://github.com/prometheus/prometheus/blob/master/documentation/examples/prometheus-kubernetes.yml). The required annotations for the metrics endpoints to be discovered are automatically added by the chart.

To start the sidecar Prometheus exporter, set the *\*.metrics.enabled* parameter to *true* when deploying the chart.

If the Prometheus Operator is installed in the cluster, set the *\*.metrics.podMonitor.enabled* to *true* to create a PodMonitor entry.

