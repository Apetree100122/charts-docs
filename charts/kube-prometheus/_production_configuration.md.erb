<%
=begin
apps: kube-prometheus
platforms: kubernetes
id: production_configuration
title: Production configuration
category: configuration
weight: 20
highlight: 20
=end %>

This chart includes a *values-production.yaml* file where you can find some parameters oriented to production configuration in comparison to the regular *values.yaml*.

* Modify the Log level for Prometheus Operator:

    -   logLevel: info
    +   logLevel: error

* Increase the number of days to retain metrics:

    -   retention: 10d
    +   retention: 30d

* Increase the number of Alertmanager replicas:

    -   replicaCount: 1
    +   replicaCount: 3

* Modify the Log level for Alertmanager:

    -   logLevel: info
    +   logLevel: error

* Increase the number of Prometheus replicas:

    -   replicaCount: 1
    +   replicaCount: 3

* Modify the Log level for Prometheus:

    -   logLevel: info
    +   logLevel: error

### Additional scrape configurations

It is possible to inject externally managed scrape configurations in a ConfigMap by enabling prometheus.additionalScrapeConfigsExternal. The ConfigMap must exist in the same namespace when Prometheus is starting. Its name is generated using the kube-prometheus.prometheus.fullname template with a *-scrape-config* suffix. The file it contains has to be named *additional-scrape-configs.yaml*.
