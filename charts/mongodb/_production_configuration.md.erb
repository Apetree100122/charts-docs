<%
=begin
apps: mongodb
platforms: kubernetes
id: production_configuration
title: Production configuration and horizontal scaling
category: configuration
weight: 20
highlight: 20
=end %>

This chart includes a *values-production.yaml* file where you can find some parameters oriented to production configuration in comparison to the regular *values.yaml*. You can use this file instead of the default one.

* Switch to enable/disable replica set configuration:

~~~
- replicaSet.enabled: false
+ replicaSet.enabled: true
~~~

* Start a side-car Prometheus exporter:

~~~
- metrics.enabled: false
+ metrics.enabled: true
~~~

* Enable/disable the Liveness Check of Prometheus metrics exporter:

~~~
- metrics.livenessProbe.enabled: false
+ metrics.livenessProbe.enabled: true
~~~

* Enable/disable the Readiness Check of Prometheus metrics exporter:

~~~
- metrics.readinessProbe.enabled: false
+ metrics.readinessProbe.enabled: true
~~~

To horizontally scale this chart, you can use the *--replicas* flag to modify the number of secondary nodes in your MongoDB replica set.

### Replication

You can start the MongoDB chart in replica set mode with the following parameter: *replicaSet.enabled=true*.

Some characteristics of this chart are:

* Each of the participants in the replication has a fixed stateful set so you always know where to find the primary, secondary or arbiter nodes.
* The number of secondary and arbiter nodes can be scaled out independently.
* Easy to move an application from using a standalone MongoDB server to use a replica set.