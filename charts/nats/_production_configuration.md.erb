<%
=begin
apps: nats
platforms: kubernetes
id: production_configuration
title: Production configuration
category: configuration
weight: 20
highlight: 20
=end %>

This chart includes a *values-production.yaml* file where you can find some parameters oriented to production configuration in comparison to the regular *values.yaml*. You can use this file instead of the default one.

* Number of NATS nodes:

    - replicaCount: 1
    + replicaCount: 3

* Enable and set the maximum number of client connections, protocol control line, payload and duration the server can block on a socket write to a client:

    - # maxConnections: 100
    - # maxControlLine: 512
    - # maxPayload: 65536
    - # writeDeadline: "2s"
    + maxConnections: 100
    + maxControlLine: 512
    + maxPayload: 65536
    + writeDeadline: "2s"

* Enable NetworkPolicy:

    - networkPolicy.enabled: false
    + networkPolicy.enabled: true

* Allow external connections:

    - networkPolicy.allowExternal: true
    + networkPolicy.allowExternal: false

* Enable ingress controller resource:

    - ingress.enabled: false
    + ingress.enabled: true

* Enable Prometheus metrics via exporter side-car:

    - metrics.enabled: false
    + metrics.enabled: true

To horizontally scale this chart, you can use the *--replicas* flag to modify the number of nodes in your NATS replica set.
